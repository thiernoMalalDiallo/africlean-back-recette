{"version":3,"sources":["./src/app/pages/informations/informations.page.html","./src/app/pages/informations/informations.module.ts","./src/app/pages/informations/informations.page.scss","./src/app/pages/informations/informations.page.ts"],"names":[],"mappings":"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","file":"pages-informations-informations-module-es2015.js","sourcesContent":["module.exports = \"<ion-content class=\\\"container\\\">\\n\\n  <div  class=\\\"content-page\\\">\\n\\n    <div class=\\\"header\\\">\\n      {{ 'PAGES.INFORMATIONS.TITLE' | translate }}\\n    </div>\\n\\n    <div class=\\\"toggle\\\">\\n\\n      <!-- Informations personnelles -->\\n      <ion-item class=\\\"informations-toggle\\\">\\n        <ion-label>{{ 'PAGES.INFORMATIONS.TOGGLE.INFOS' | translate }}</ion-label>\\n        <ion-toggle color=\\\"medium\\\" (ionChange)=\\\"toggleInformations($event)\\\">\\n        </ion-toggle>\\n      </ion-item>\\n\\n      <div class=\\\"informations\\\" *ngIf=\\\"informationsCheck\\\">\\n        <africlean-informations></africlean-informations>\\n      </div>\\n\\n      <!-- Adresses -->\\n      <ion-item class=\\\"adress-toggle\\\">\\n        <ion-label>{{ 'PAGES.INFORMATIONS.TOGGLE.ADRESS.TITLE' | translate }}</ion-label>\\n        <ion-toggle color=\\\"medium\\\" (ionChange)=\\\"toggleAdress($event)\\\">\\n        </ion-toggle>\\n      </ion-item>\\n\\n      <div class=\\\"adress\\\" *ngIf=\\\"adressCheck\\\">\\n          <!-- Ajouter une nouvel adresse -->\\n          <div class=\\\"adress-add\\\" (click)=\\\"addAdress()\\\">\\n            {{ 'PAGES.INFORMATIONS.TOGGLE.ADRESS.NEW_ADRESS' | translate }}\\n          </div>\\n          <div class=\\\"adresses-list\\\" *ngIf=\\\"adresses\\\">\\n              <africlean-adress-display *ngFor=\\\"let adresse of adresses; let rank = index\\\"\\n                                        [adress]=\\\"adresse\\\" [theme]=\\\"'informations'\\\" \\n                                        [displayCheckbox]=\\\"false\\\" [rank]=\\\"rank\\\"\\n                                        [displayButton]=\\\"true\\\" (emitHomeCode)=\\\"actualizeAdress($event)\\\">\\n              </africlean-adress-display>\\n          </div>\\n      </div>\\n\\n      <!-- Mot de passe -->\\n      <ion-item class=\\\"password-toggle\\\">\\n        <ion-label>{{ 'PAGES.INFORMATIONS.TOGGLE.PASSWORD' | translate }}</ion-label>\\n        <ion-toggle color=\\\"medium\\\" (ionChange)=\\\"togglePassword($event)\\\">\\n        </ion-toggle>\\n      </ion-item>\\n      \\n      <div class=\\\"password\\\" *ngIf=\\\"pwdCheck\\\">\\n        <africlean-password></africlean-password>\\n      </div>\\n\\n    </div>\\n  </div>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { InformationsPage } from './informations.page';\nimport { Routes, RouterModule } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InformationsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ComponentsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    TranslateModule.forChild()\n  ],\n  declarations: [InformationsPage]\n})\nexport class InformationsPageModule {}\n","module.exports = \".container .content-page {\\n  margin-top: 15vh;\\n}\\n.container .content-page .header {\\n  font-size: 1.4rem;\\n  margin-bottom: 2rem;\\n  padding-left: 0.5rem;\\n  border-bottom: 1px solid;\\n  border-color: var(--ion-color-grey);\\n  color: var(--ion-color-consult-informations);\\n}\\n.container .content-page .toggle ion-label {\\n  color: var(--ion-color-consult-informations);\\n  font-weight: bold;\\n}\\n.container .content-page .toggle .adress-add {\\n  color: var(--ion-color-consult-informations);\\n  text-decoration: underline;\\n  cursor: pointer;\\n  font-size: 0.9rem;\\n  margin-left: 5vw;\\n  margin-top: 1rem;\\n  margin-bottom: 1rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaW5mb3JtYXRpb25zL0M6XFxVc2Vyc1xcdG1kaWFsbG9cXERvY3VtZW50c1xcUHJvamV0X0FmcmlxdWVcXEFmcmljbGVhblxcYWZyaWNsZWFuLWlvbmljL3NyY1xcYXBwXFxwYWdlc1xcaW5mb3JtYXRpb25zXFxpbmZvcm1hdGlvbnMucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9pbmZvcm1hdGlvbnMvaW5mb3JtYXRpb25zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFSTtFQUNJLGdCQUFBO0FDRFI7QURHUTtFQUNJLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxvQkFBQTtFQUNBLHdCQUFBO0VBQ0EsbUNBQUE7RUFDQSw0Q0FBQTtBQ0RaO0FETVk7RUFDSSw0Q0FBQTtFQUNBLGlCQUFBO0FDSmhCO0FET1k7RUFDSSw0Q0FBQTtFQUNBLDBCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0FDTGhCIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvaW5mb3JtYXRpb25zL2luZm9ybWF0aW9ucy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVye1xyXG5cclxuICAgIC5jb250ZW50LXBhZ2V7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMTV2aDtcclxuICAgICAgICBcclxuICAgICAgICAuaGVhZGVye1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDEuNHJlbTtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMnJlbTtcclxuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAwLjVyZW07XHJcbiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZDtcclxuICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XHJcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItY29uc3VsdC1pbmZvcm1hdGlvbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnRvZ2dsZXtcclxuXHJcbiAgICAgICAgICAgIGlvbi1sYWJlbHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItY29uc3VsdC1pbmZvcm1hdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5hZHJlc3MtYWRke1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1jb25zdWx0LWluZm9ybWF0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtO1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDV2dztcclxuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDFyZW07XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLmNvbnRhaW5lciAuY29udGVudC1wYWdlIHtcbiAgbWFyZ2luLXRvcDogMTV2aDtcbn1cbi5jb250YWluZXIgLmNvbnRlbnQtcGFnZSAuaGVhZGVyIHtcbiAgZm9udC1zaXplOiAxLjRyZW07XG4gIG1hcmdpbi1ib3R0b206IDJyZW07XG4gIHBhZGRpbmctbGVmdDogMC41cmVtO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWNvbnN1bHQtaW5mb3JtYXRpb25zKTtcbn1cbi5jb250YWluZXIgLmNvbnRlbnQtcGFnZSAudG9nZ2xlIGlvbi1sYWJlbCB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItY29uc3VsdC1pbmZvcm1hdGlvbnMpO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbi5jb250YWluZXIgLmNvbnRlbnQtcGFnZSAudG9nZ2xlIC5hZHJlc3MtYWRkIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1jb25zdWx0LWluZm9ybWF0aW9ucyk7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGZvbnQtc2l6ZTogMC45cmVtO1xuICBtYXJnaW4tbGVmdDogNXZ3O1xuICBtYXJnaW4tdG9wOiAxcmVtO1xuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { AfricleanModalProvider } from 'src/providers/africlean-modal/africlean-modal.provider';\nimport { AfricleanAdressComponent } from 'src/app/components/africlean-adress/africlean-adress.component';\nimport { AfricleanHttpUserProvider } from 'src/providers/africlean-http/africlean-http-user.provider';\nimport { AfricleanSessionProvider } from 'src/providers/africlean-session/africlean-session.provider';\nimport { AfricleanObservablesProvider } from 'src/providers/africlean-observables/africlean-observables.provider';\n\n@Component({\n  selector: 'app-informations',\n  templateUrl: './informations.page.html',\n  styleUrls: ['./informations.page.scss'],\n})\nexport class InformationsPage implements OnInit {\n\n  /**\n   * Contrôle l'accès aux informations\n   */\n  public informationsCheck = false;\n\n  /**\n   * Contrôle l'accès au mot de passe\n   */\n  public pwdCheck = false;\n\n  /**\n   * Contrôle l'accès aux adresses\n   */\n  public adressCheck = false;\n\n  /**\n   * Liste des adresses de l'utilisateurs\n   */\n  public adresses: {\n    adresseId: string,\n    idHome: string,\n    country: string,\n    region: string,\n    commune: string,\n    district: string,\n    sector: string,\n    home: string,\n    state?: string\n  }[];\n\n  constructor(private modal: AfricleanModalProvider,\n              private userProvider: AfricleanHttpUserProvider,\n              private session: AfricleanSessionProvider,\n              private observableProvider: AfricleanObservablesProvider) { }\n\n  ngOnInit() {\n    this.getAdresses();\n    // Dés qu'il y'a un chamgement au nivea des adresses notament une mise a jour,\n    // on récharge les données.\n    this.observableProvider.loadAdresses.subscribe(\n      (load) => {\n          if (load) {\n            this.getAdresses();\n          }\n      }\n    );\n  }\n\n  /**\n   * Switch vers les informations\n   * @param event evenement\n   */\n  public toggleInformations(event: any) {\n    this.informationsCheck = event.detail.checked;\n  }\n\n  /**\n   * Switch vers le mot de passe\n   * @param event événement\n   */\n  public togglePassword(event: any) {\n    this.pwdCheck = event.detail.checked;\n  }\n\n  /**\n   * Switch vers l'adresse\n   * @param event événement\n   */\n  public toggleAdress(event: any) {\n    this.adressCheck = event.detail.checked;\n  }\n\n  /**\n   * Ajoute une nouvelle adresse\n   */\n  public async addAdress() {\n    const props = {\n      displayButton: true\n    };\n    await this.modal.create(AfricleanAdressComponent, 'my-custom-modal-css', props);\n    const data = await this.modal.getData();\n    // tslint:disable-next-line: no-unused-expression\n    !this.adresses ? this.adresses = [] : '';\n    // tslint:disable-next-line: no-unused-expression\n    data ? this.adresses.push(data) : '';\n  }\n\n  /**\n   * Actualise la liste des adresses\n   * @param event evenement émis\n   */\n  public actualizeAdress(homeCode: any) {\n      const adressesTMP = [];\n      this.adresses.forEach(adress => {\n        if (adress.idHome !== homeCode) {\n          adressesTMP.push(adress);\n        }\n      });\n      this.adresses = adressesTMP;\n  }\n\n  /**\n   * Renvoie toutes les adresses\n   */\n  public async getAdresses() {\n      const userId = await this.session.getItem('userId');\n      const url = 'user/adress/' + userId;\n      const body = {\n        role: 'CLIENT'\n      };\n      this.userProvider.getAdress(url, body).subscribe(\n        (adresses) => {\n          this.adresses = adresses;\n        }\n      );\n  }\n}\n"],"sourceRoot":""}